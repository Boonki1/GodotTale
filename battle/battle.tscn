[gd_scene load_steps=44 format=3 uid="uid://cmmskdyow6j7v"]

[ext_resource type="Script" path="res://battle/battle.gd" id="1_biix4"]
[ext_resource type="Texture2D" uid="uid://c6sxntpkdncjw" path="res://battle/sprites/button/act.png" id="1_i0c17"]
[ext_resource type="Texture2D" uid="uid://be34uxfm43i85" path="res://battle/sprites/button/fight.png" id="1_r68k2"]
[ext_resource type="Texture2D" uid="uid://dyeghrx3qpn6e" path="res://battle/sprites/button/fight0.png" id="2_1j0lq"]
[ext_resource type="PackedScene" uid="uid://ckjc5kaja3fbe" path="res://battle/enemies/Froggit.tscn" id="2_2b3jl"]
[ext_resource type="Texture2D" uid="uid://dyyef060vig1f" path="res://battle/bg/spr_battlebg/spr_battlebg_0.png" id="2_fcjl2"]
[ext_resource type="PackedScene" uid="uid://mtu30mfbq7h6" path="res://battle/textbox/BattleTextbox.tscn" id="2_v63as"]
[ext_resource type="Texture2D" uid="uid://b33tr1cajaliq" path="res://battle/sprites/button/act0.png" id="2_yb0ki"]
[ext_resource type="Texture2D" uid="uid://bj1obrxtrw32n" path="res://battle/sprites/button/item.png" id="3_1p5cf"]
[ext_resource type="Texture2D" uid="uid://b0tfl4er525rq" path="res://battle/bg/spr_battlebg/spr_battlebg_1.png" id="3_vn3ml"]
[ext_resource type="Texture2D" uid="uid://b4p635bmjtdr6" path="res://battle/sprites/button/item0.png" id="4_c1alr"]
[ext_resource type="Texture2D" uid="uid://cuo0hn8v4vw4s" path="res://battle/sprites/slice/spr_slice_o/spr_slice_o_0.png" id="4_j264h"]
[ext_resource type="Texture2D" uid="uid://hsarwapvlek2" path="res://battle/sprites/button/mercy.png" id="5_vp1l3"]
[ext_resource type="Texture2D" uid="uid://drdfl4puejvbw" path="res://battle/sprites/slice/spr_slice_o/spr_slice_o_1.png" id="5_w7m0r"]
[ext_resource type="Texture2D" uid="uid://p50g2ahoq8ip" path="res://battle/sprites/button/mercy0.png" id="6_7goab"]
[ext_resource type="Script" path="res://battle/enemies/!enemies.gd" id="6_dc0mv"]
[ext_resource type="Texture2D" uid="uid://wcdvl876msjf" path="res://battle/sprites/slice/spr_slice_o/spr_slice_o_2.png" id="6_kucvb"]
[ext_resource type="Texture2D" uid="uid://opkxh88byifp" path="res://battle/sprites/slice/spr_slice_o/spr_slice_o_3.png" id="7_esj7f"]
[ext_resource type="Texture2D" uid="uid://ed3agdtn7kri" path="res://battle/sprites/slice/spr_slice_o/spr_slice_o_4.png" id="8_4n76o"]
[ext_resource type="PackedScene" uid="uid://harf4tcj2l83" path="res://battle/enemies/Whimsun.tscn" id="8_06lxg"]
[ext_resource type="Texture2D" uid="uid://csesxnw1ojjpa" path="res://battle/sprites/slice/spr_slice_o/spr_slice_o_5.png" id="9_qrwid"]
[ext_resource type="Texture2D" uid="uid://buaagrxc1pefj" path="res://battle/sprites/target/target.png" id="10_a2hoy"]
[ext_resource type="AudioStream" uid="uid://tv4xpwy5rsnt" path="res://battle/sounds/laz.wav" id="10_jibgx"]
[ext_resource type="LabelSettings" uid="uid://bqjgueck1kdbu" path="res://battle/battleLabels.tres" id="10_tg4yi"]
[ext_resource type="Texture2D" uid="uid://f4o3fca7yk4n" path="res://battle/sprites/target/spr_targetchoice/spr_targetchoice_0.png" id="11_541nn"]
[ext_resource type="Texture2D" uid="uid://dltiyb7v0ug1p" path="res://battle/sprites/HP.png" id="11_qmj8h"]
[ext_resource type="Texture2D" uid="uid://dfa2k0tvwbn4r" path="res://battle/sprites/target/spr_targetchoice/spr_targetchoice_1.png" id="12_571hi"]
[ext_resource type="Texture2D" uid="uid://dw4h8wp204in" path="res://dialogue/MenuTiles.png" id="12_qcm6w"]
[ext_resource type="PackedScene" uid="uid://bb0t6dgghm2ws" path="res://battle/heart.tscn" id="13_6eybr"]
[ext_resource type="LabelSettings" uid="uid://dh3sml5457ddq" path="res://dialogue/Textbox.tres" id="16_rm7cp"]

[sub_resource type="Animation" id="Animation_xbsio"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("boxRect:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(32, 250)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("boxRect:size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(284.5, 70)]
}

[sub_resource type="Animation" id="Animation_8gh5g"]
resource_name = "BoxShrink"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("boxRect:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(32, 250), Vector2(241, 250)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("boxRect:size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(284.5, 70), Vector2(77, 70)]
}

[sub_resource type="Animation" id="Animation_faxpb"]
resource_name = "BoxGrow"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("boxRect:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(241, 250), Vector2(32, 250)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("boxRect:size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(77, 70), Vector2(284.5, 70)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_7hb73"]
_data = {
"BoxGrow": SubResource("Animation_faxpb"),
"BoxShrink": SubResource("Animation_8gh5g"),
"RESET": SubResource("Animation_xbsio")
}

[sub_resource type="SpriteFrames" id="SpriteFrames_0uwy1"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_fcjl2")
}, {
"duration": 1.0,
"texture": ExtResource("3_vn3ml")
}],
"loop": true,
"name": &"default",
"speed": 0.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_jtii2"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_j264h")
}, {
"duration": 1.0,
"texture": ExtResource("5_w7m0r")
}, {
"duration": 1.0,
"texture": ExtResource("6_kucvb")
}, {
"duration": 1.0,
"texture": ExtResource("7_esj7f")
}, {
"duration": 1.0,
"texture": ExtResource("8_4n76o")
}, {
"duration": 1.0,
"texture": ExtResource("9_qrwid")
}],
"loop": true,
"name": &"default",
"speed": 10.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_0sqs7"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_541nn")
}, {
"duration": 1.0,
"texture": ExtResource("12_571hi")
}],
"loop": true,
"name": &"default",
"speed": 8.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_bl4fk"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_i0c17")
}, {
"duration": 1.0,
"texture": ExtResource("2_yb0ki")
}],
"loop": true,
"name": &"default",
"speed": 0.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_tm5fy"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_1p5cf")
}, {
"duration": 1.0,
"texture": ExtResource("4_c1alr")
}],
"loop": true,
"name": &"default",
"speed": 0.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_wcc4l"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_vp1l3")
}, {
"duration": 1.0,
"texture": ExtResource("6_7goab")
}],
"loop": true,
"name": &"default",
"speed": 0.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_40dy1"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_r68k2")
}, {
"duration": 1.0,
"texture": ExtResource("2_1j0lq")
}],
"loop": true,
"name": &"default",
"speed": 0.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bjt21"]
size = Vector2(3, 336.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yg3pf"]
size = Vector2(551, 3)

[node name="Battle" type="Node2D"]
position = Vector2(-2, -3)
script = ExtResource("1_biix4")

[node name="boxSizeChange" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_7hb73")
}

[node name="BG" type="AnimatedSprite2D" parent="."]
z_index = -1
sprite_frames = SubResource("SpriteFrames_0uwy1")
centered = false

[node name="Slice" type="AnimatedSprite2D" parent="."]
z_index = 2
position = Vector2(-245, 172)
sprite_frames = SubResource("SpriteFrames_jtii2")
autoplay = "default"
frame = 5
frame_progress = 1.0

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Slice"]
stream = ExtResource("10_jibgx")
volume_db = -20.0

[node name="Target" type="Sprite2D" parent="."]
visible = false
z_index = 1
position = Vector2(317, 320)
texture = ExtResource("10_a2hoy")
metadata/_edit_lock_ = true

[node name="Targetchoice" type="AnimatedSprite2D" parent="."]
visible = false
z_index = 1
position = Vector2(45, 320)
sprite_frames = SubResource("SpriteFrames_0sqs7")
autoplay = "default"
frame_progress = 0.225192

[node name="EnemyLabel" type="Label" parent="."]
z_index = 1
offset_left = 85.0
offset_top = 271.0
offset_right = 146.0
offset_bottom = 287.0
scale = Vector2(2, 2)
text = "* Froggit"
label_settings = ExtResource("16_rm7cp")
visible_characters = 0
visible_ratio = 0.0
metadata/_edit_lock_ = true

[node name="BattleTextbox" parent="." instance=ExtResource("2_v63as")]
offset_left = 53.0
offset_top = 271.0
offset_right = 53.0
offset_bottom = 271.0
scale = Vector2(2, 2)
metadata/_edit_lock_ = true

[node name="enemies" type="Node2D" parent="."]
script = ExtResource("6_dc0mv")

[node name="Froggit" parent="enemies" instance=ExtResource("2_2b3jl")]
position = Vector2(271, 188)

[node name="Whimsun" parent="enemies" instance=ExtResource("8_06lxg")]
position = Vector2(368, 78)

[node name="Heart" parent="." instance=ExtResource("13_6eybr")]
z_index = 1
position = Vector2(49, 454)

[node name="ActSprite" type="AnimatedSprite2D" parent="."]
position = Vector2(240, 453)
sprite_frames = SubResource("SpriteFrames_bl4fk")
metadata/_edit_lock_ = true

[node name="ItemSprite" type="AnimatedSprite2D" parent="."]
position = Vector2(393, 453)
sprite_frames = SubResource("SpriteFrames_tm5fy")
metadata/_edit_lock_ = true

[node name="MercySprite" type="AnimatedSprite2D" parent="."]
position = Vector2(546, 453)
sprite_frames = SubResource("SpriteFrames_wcc4l")
metadata/_edit_lock_ = true

[node name="FightSprite" type="AnimatedSprite2D" parent="."]
position = Vector2(87, 453)
sprite_frames = SubResource("SpriteFrames_40dy1")
metadata/_edit_lock_ = true

[node name="StatsLabel" type="Label" parent="."]
offset_left = 30.0
offset_top = 400.0
offset_right = 99.0
offset_bottom = 424.0
text = "Chara   LV1"
label_settings = ExtResource("10_tg4yi")
uppercase = true
metadata/_edit_lock_ = true

[node name="HPsprite" type="Sprite2D" parent="."]
position = Vector2(256, 410)
texture = ExtResource("11_qmj8h")
metadata/_edit_lock_ = true

[node name="HPMax" type="ColorRect" parent="."]
offset_left = 275.0
offset_top = 400.0
offset_right = 300.0
offset_bottom = 421.0
color = Color(1, 0, 0, 1)
metadata/_edit_lock_ = true

[node name="HP" type="ColorRect" parent="."]
offset_left = 275.0
offset_top = 400.0
offset_right = 300.0
offset_bottom = 421.0
color = Color(1, 1, 0, 1)
metadata/_edit_lock_ = true

[node name="HPtext" type="Label" parent="."]
offset_left = 314.0
offset_top = 400.0
offset_right = 354.0
offset_bottom = 423.0
text = "20 / 20"
label_settings = ExtResource("10_tg4yi")
metadata/_edit_lock_ = true

[node name="boxRect" type="NinePatchRect" parent="."]
offset_left = 32.0
offset_top = 250.0
offset_right = 316.5
offset_bottom = 320.0
scale = Vector2(2, 2)
texture = ExtResource("12_qcm6w")
patch_margin_left = 4
patch_margin_top = 4
patch_margin_right = 4
patch_margin_bottom = 4

[node name="boxRectCollision" type="StaticBody2D" parent="boxRect"]
visible = false

[node name="left" type="CollisionShape2D" parent="boxRect/boxRectCollision"]
position = Vector2(1.5, -3.75)
shape = SubResource("RectangleShape2D_bjt21")

[node name="right" type="CollisionShape2D" parent="boxRect/boxRectCollision"]
position = Vector2(283, 35)
shape = SubResource("RectangleShape2D_bjt21")

[node name="top" type="CollisionShape2D" parent="boxRect/boxRectCollision"]
position = Vector2(132, 1.5)
shape = SubResource("RectangleShape2D_yg3pf")

[node name="bottom" type="CollisionShape2D" parent="boxRect/boxRectCollision"]
position = Vector2(144, 68.5)
shape = SubResource("RectangleShape2D_yg3pf")

[connection signal="animation_finished" from="Slice" to="." method="_on_slice_animation_finished"]
[connection signal="animation_looped" from="Slice" to="." method="_on_slice_animation_looped"]
